<div class="subscription-container">
  <h1>Mes Abonnements</h1>
  <div class="active-section">
    <h2>Abonnements Actifs</h2>
    
    <div *ngFor="let sub of activeSubscriptions" class="subscription-card">
      <div class="sub-header">
        <span class="sub-name">{{ sub.name }}</span>
        <span class="sub-price">{{ sub.price }}€/mois</span>
      </div>
      <div class="sub-dates">
        <span>Début: {{ sub.startDate }}</span>
        <span>Fin: {{ sub.endDate }}</span>
      </div>
    </div>

    <div *ngIf="activeSubscriptions.length === 0" class="no-subscription">
      Aucun abonnement actif
    </div>
  </div>

  <div class="form-section">
    <h2>Souscrire à un abonnement</h2>

    <form (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label>Nom</label>
        <input 
          type="text" 
          [(ngModel)]="formData.nom" 
          name="nom"
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label>Prénom</label>
        <input 
          type="text" 
          [(ngModel)]="formData.prenom" 
          name="prenom"
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label>Email</label>
        <input 
          type="email" 
          [(ngModel)]="formData.email" 
          name="email"
          class="form-control"
        />
      </div>
       <div class="form-group">
        <label>Équipe</label>
        <input 
          type="text" 
          [(ngModel)]="formData.equipe" 
          name="equipe"
          class="form-control"
          placeholder="Ex: Real Madrid"
        />
      </div>
      <div class="form-group">
        <label>Choisir un plan</label>
        <select 
          [(ngModel)]="selectedPlan" 
          name="plan"
          class="form-control"
        >
          <option value="">-- Sélectionner --</option>
          <option *ngFor="let plan of plans" [value]="plan.id">
            {{ plan.name }} - {{ plan.price }}€/mois
          </option>
        </select>
      </div>

      <div *ngIf="message" class="message">
        {{ message }}
      </div>

      <button type="submit" class="btn-submit">
        Souscrire
      </button>
    </form>
  </div>
</div>